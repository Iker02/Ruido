<div
  class="relative flex size-full min-h-screen flex-col bg-transparent dark group/design-root overflow-x-hidden"
  style="font-family: Epilogue, 'Noto Sans', sans-serif"
  id="navbar"
>
  <!-- Header fijo -->
  <header
    class="fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-6 py-3 transition-colors duration-300"
    [ngClass]="{
      'bg-white text-black shadow-md border-b border-black': isScrolled,
      'bg-transparent text-white': !isScrolled
    }"
  >
    <!-- Logo y título -->
    <div
      class="flex items-center gap-4"
      [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
    >
      <div class="size-4">
        <img src="../assets/logo.png" alt="logo" />
      </div>
      <h2
        class="text-lg font-bold tracking-[-0.015em]"
        [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
      >
        Ruido
      </h2>
    </div>

    <!-- Sidebar (Menú lateral) -->
    <div
      id="sidebar-menu"
      class="fixed top-0 right-0 h-full w-64 bg-[#111418] text-white transform transition-transform duration-300 ease-in-out z-50 border-l-2 border-gray-300"
      [ngClass]="{
        'translate-x-0': isMenuOpen,
        'translate-x-full': !isMenuOpen
      }"
    >
      <div class="p-5 flex flex-col space-y-6">
        <!-- Botón cerrar -->
        <button
          (click)="closeMenu()"
          class="self-end text-gray-400 hover:text-white text-2xl transform transition-transform duration-150 ease-in-out active:scale-90"
        >
          <i class="fa-regular fa-circle-xmark"></i>
        </button>

        <!-- Navegación -->
        <nav class="flex flex-col space-y-4 text-lg font-medium">
          <a
            href="#"
            [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
            class="hover:text-blue-400 transition"
            >Projects</a
          >
          <a
            href="#"
            [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
            class="hover:text-blue-400 transition"
            >About</a
          >
          <a
            href="#"
            [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
            class="hover:text-blue-400 transition"
            >Contact</a
          >
        </nav>
      </div>
    </div>

    <!-- Navegación y avatar (solo en pantallas medianas o más) -->
    <div class="hidden md:flex flex-1 justify-end gap-8">
      <div class="flex items-center gap-9">
        <a
          class="text-sm font-medium leading-normal"
          [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
          href="#"
          >Projects</a
        >
        <a
          class="text-sm font-medium leading-normal"
          [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
          href="#"
          >About</a
        >
        <a
          class="text-sm font-medium leading-normal"
          [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
          href="#"
          >Contact</a
        >
      </div>
      <div
        class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
        style="
          background-image: url('https://cdn.usegalileo.ai/sdxl10/405b4342-9a7d-4ada-977a-56630d58191d.png');
        "
      ></div>
    </div>

    <!-- Botón hamburguesa -->
    <button
      id="menu-toggle-btn"
      (click)="toggleMenu()"
      class="md:hidden flex items-center justify-center p-2 rounded-lg transition-all duration-150 ease-in-out active:scale-90 active:rotate-180"
      [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="30"
        height="30"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2.5"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
  </header>

  <div class="layout-container flex h-full grow flex-col">
    <ngx-spinner
      bdColor="rgb(0, 0, 0, 0.8)"
      size="small"
      color="#fff"
      type="ball-scale-multiple"
      class="floating-spinner"
      [fullScreen]="true"
    >
      <img
        src="../assets/25279-7-camera-lens-transparent.png"
        alt="logo"
        class="rotate-animation"
        style="width: 250px; height: auto"
      />
    </ngx-spinner>
    <!-- Botón para abrir el popup -->
    <a href="whatsapp://send?phone=0000000000"
      ><svg
        viewBox="0 0 32 32"
        class="whatsapp-ico fixed bottom-20 right-4 z-50"
        (click)="mostrarPopup = true"
      >
        <path
          d=" M19.11 17.205c-.372 0-1.088 1.39-1.518 1.39a.63.63 0 0 1-.315-.1c-.802-.402-1.504-.817-2.163-1.447-.545-.516-1.146-1.29-1.46-1.963a.426.426 0 0 1-.073-.215c0-.33.99-.945.99-1.49 0-.143-.73-2.09-.832-2.335-.143-.372-.214-.487-.6-.487-.187 0-.36-.043-.53-.043-.302 0-.53.115-.746.315-.688.645-1.032 1.318-1.06 2.264v.114c-.015.99.472 1.977 1.017 2.78 1.23 1.82 2.506 3.41 4.554 4.34.616.287 2.035.888 2.722.888.817 0 2.15-.515 2.478-1.318.13-.33.244-.73.244-1.088 0-.058 0-.144-.03-.215-.1-.172-2.434-1.39-2.678-1.39zm-2.908 7.593c-1.747 0-3.48-.53-4.942-1.49L7.793 24.41l1.132-3.337a8.955 8.955 0 0 1-1.72-5.272c0-4.955 4.04-8.995 8.997-8.995S25.2 10.845 25.2 15.8c0 4.958-4.04 8.998-8.998 8.998zm0-19.798c-5.96 0-10.8 4.842-10.8 10.8 0 1.964.53 3.898 1.546 5.574L5 27.176l5.974-1.92a10.807 10.807 0 0 0 16.03-9.455c0-5.958-4.842-10.8-10.802-10.8z"
          fill-rule="evenodd"
        ></path></svg
    ></a>

    <!-- Popup -->
    <div
      [ngClass]="{
        'opacity-100 pointer-events-auto animate-slide-in': mostrarPopup,
        'opacity-0 pointer-events-none animate-slide-out': !mostrarPopup
      }"
      class="fixed inset-0 bg-green-100 bg-opacity-95 flex items-center justify-center transition-all duration-300 ease-out z-50"
    >
      <div
        class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md mx-4 text-center border border-green-500"
      >
        <h2 class="text-2xl font-bold text-green-700 mb-4">
          Escríbenos por WhatsApp
        </h2>
        <textarea
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
          [(ngModel)]="mensaje"
          rows="4"
        ></textarea>
        <div class="mt-4 flex justify-between">
          <button
            (click)="enviarMensaje()"
            class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition"
          >
            Enviar
          </button>
          <button
            (click)="mostrarPopup = false"
            class="text-gray-600 hover:underline"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <router-outlet></router-outlet>
  </div>
</div>
