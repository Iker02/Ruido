<div
  class="relative flex size-full min-h-screen flex-col bg-transparent dark group/design-root overflow-x-hidden"
  style="font-family: Epilogue, 'Noto Sans', sans-serif"
  id="navbar"
>
  <!-- Header fijo -->
  <header
    class="fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-6 py-3 transition-colors duration-300"
    [ngClass]="{
      'bg-white text-black shadow-md border-b border-black': isScrolled,
      'bg-transparent text-white': !isScrolled
    }"
  >
    <!-- Logo y título -->
    <div
      class="flex items-center gap-4"
      [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
    >
      <div class="size-4">
        <img src="../assets/logo.png" alt="logo" />
      </div>
      <h2
        class="text-lg font-bold tracking-[-0.015em]"
        [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
      >
        Ruido
      </h2>
    </div>

    <!-- Sidebar (Menú lateral) -->
    <div
      id="sidebar-menu"
      class="fixed top-0 right-0 h-full w-64 bg-[#111418] text-white transform transition-transform duration-300 ease-in-out z-50 border-l-2 border-gray-300"
      [ngClass]="{
        'translate-x-0': isMenuOpen,
        'translate-x-full': !isMenuOpen
      }"
    >
      <div class="p-5 flex flex-col space-y-6">
        <!-- Botón cerrar -->
        <button
          (click)="closeMenu()"
          class="self-end text-gray-400 hover:text-white text-2xl transform transition-transform duration-150 ease-in-out active:scale-90"
        >
          <i class="fa-regular fa-circle-xmark"></i>
        </button>

        <!-- Navegación -->
        <nav class="flex flex-col space-y-4 text-lg font-medium">
          <a
            href="#"
            [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
            class="hover:text-blue-400 transition"
            >Projects</a
          >
          <a
            href="#"
            [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
            class="hover:text-blue-400 transition"
            >About</a
          >
          <a
            href="#"
            [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
            class="hover:text-blue-400 transition"
            >Contact</a
          >
        </nav>
      </div>
    </div>

    <!-- Navegación y avatar (solo en pantallas medianas o más) -->
    <div class="hidden md:flex flex-1 justify-end gap-8">
      <div class="flex items-center gap-9">
        <a
          class="text-sm font-medium leading-normal"
          [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
          href="#"
          >Projects</a
        >
        <a
          class="text-sm font-medium leading-normal"
          [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
          href="#"
          >About</a
        >
        <a
          class="text-sm font-medium leading-normal"
          [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
          href="#"
          >Contact</a
        >
      </div>
      <div
        class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
        style="
          background-image: url('https://cdn.usegalileo.ai/sdxl10/405b4342-9a7d-4ada-977a-56630d58191d.png');
        "
      ></div>
    </div>

    <!-- Botón hamburguesa -->
    <button
      id="menu-toggle-btn"
      (click)="toggleMenu()"
      class="md:hidden flex items-center justify-center p-2 rounded-lg transition-all duration-150 ease-in-out active:scale-90 active:rotate-180"
      [ngClass]="{ 'text-black': isScrolled, 'text-white': !isScrolled }"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="30"
        height="30"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2.5"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
  </header>

  <div class="layout-container flex h-full grow flex-col">
    <ngx-spinner
      bdColor="rgb(0, 0, 0, 0.8)"
      size="small"
      color="#fff"
      type="ball-scale-multiple"
      class="floating-spinner"
      [fullScreen]="true"
    >
      <img
        src="../assets/25279-7-camera-lens-transparent.png"
        alt="logo"
        class="rotate-animation"
        style="width: 250px; height: auto"
      />
    </ngx-spinner>
    <!-- Botón para abrir el popup -->
    <button
      class="fixed bottom-20 right-4 bg-green-500 hover:bg-green-600 text-white p-3 rounded-full shadow-lg z-50"
      (click)="mostrarPopup = true"
    >
      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
        <path
          d="M20.52 3.48A11.92 11.92 0 0012 0C5.37 0 .01 5.37.01 12c0 2.11.55 4.2 1.6 6.03L0 24l6.24-1.63A11.92 11.92 0 0012 24c6.63 0 12-5.37 12-12a11.92 11.92 0 00-3.48-8.52zM12 22c-1.85 0-3.66-.47-5.27-1.37l-.38-.21-3.7.97.99-3.6-.24-.37C2.76 15.31 2.01 13.68 2.01 12 2.01 6.49 6.49 2.01 12 2.01S21.99 6.49 21.99 12 17.51 22 12 22zm5.03-6.56c-.26-.13-1.53-.75-1.77-.84-.24-.09-.42-.13-.6.13s-.69.84-.85 1.01c-.16.18-.31.2-.57.07-.26-.13-1.09-.4-2.09-1.28-.77-.68-1.29-1.52-1.44-1.78-.15-.26-.02-.4.11-.53.11-.11.26-.29.39-.44.13-.15.17-.26.26-.43.09-.17.04-.32-.02-.45-.07-.13-.6-1.44-.82-1.96-.21-.51-.43-.44-.6-.44h-.52c-.17 0-.44.06-.67.32s-.88.86-.88 2.1.91 2.44 1.03 2.6c.13.17 1.79 2.72 4.35 3.81.61.26 1.08.41 1.45.52.61.19 1.17.16 1.61.1.49-.07 1.53-.63 1.75-1.24.22-.61.22-1.13.15-1.24-.07-.11-.24-.17-.5-.3z"
        />
      </svg>
    </button>

    <!-- Popup -->
    <div
      [ngClass]="{
        'opacity-100 pointer-events-auto animate-slide-in': mostrarPopup,
        'opacity-0 pointer-events-none animate-slide-out': !mostrarPopup
      }"
      class="fixed inset-0 bg-green-100 bg-opacity-95 flex items-center justify-center transition-all duration-300 ease-out z-50"
    >
      <div
        class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md mx-4 text-center border border-green-500"
      >
        <h2 class="text-2xl font-bold text-green-700 mb-4">
          Escríbenos por WhatsApp
        </h2>
        <textarea
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
          [(ngModel)]="mensaje"
          rows="4"
        ></textarea>
        <div class="mt-4 flex justify-between">
          <button
            (click)="enviarMensaje()"
            class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition"
          >
            Enviar
          </button>
          <button
            (click)="mostrarPopup = false"
            class="text-gray-600 hover:underline"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <router-outlet></router-outlet>
  </div>
</div>
